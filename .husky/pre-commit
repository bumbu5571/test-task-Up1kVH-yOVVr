#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# Сообщение о начале проверок
echo '🏗️👷 Выполнение проверок перед коммитом'

# Проверка форматирования (Prettier)
npm run check-format ||
(
    echo '🤢🤮🤢🤮 Проверка стилизации не прошла. Форматирование вашего кода не соответствует стандартам. 🤢🤮🤢🤮 Пожалуйста, выполните "npm run format", закоммитьте ваши изменения и попробуйте снова.';
    false;
)

# Проверка линтинга (ESLint)
npm run check-lint ||
(
        echo '😤🏀👋😤 Проверка ESLint не прошла. Пожалуйста, устраните проблемы, указанные выше, закоммитьте ваши изменения и попробуйте снова.';
        false;
)
# Проверка типов (TypeScript)
npm run check-types ||
(
    echo '🤡😂❌🤡 Проверка типов TypeScript не прошла. 🤡😂❌🤡 Пожалуйста, устраните ошибки типов, указанные выше, и попробуйте снова.'
    false;
)

# Сообщение об успешном завершении
echo '✅✅✅✅ Все проверки прошли успешно. Выполняю коммит. ✅✅✅✅'
